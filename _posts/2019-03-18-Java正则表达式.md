---
title: Java正则表达式
layout: post
categories: 编程语言
tags: Java
---
## Java正则表达式

### java.util.regex包主要包括以下三个类：

**Pattern类：**

​	pattern对象是一个正则表达式的编译表示。Pattern 类没有公共构造方法。要创建一个 Pattern 对象，你必须首先调用其公共静态编译方法，它返回一个 Pattern 对象。该方法接受一个正则表达式作为它的第一个参数。

**Matcher类：**

​	Matcher 对象是对输入字符串进行解释和匹配操作的引擎。与Pattern 类一样，Matcher 也没有公共构造方法。你需要调用 Pattern 对象的 matcher 方法来获得一个 Matcher 对象。

**PatternSyntaxException：**

​	PatternSyntaxException是一个非强制异常类，它表示一个正则表达式模式中的语法错误。

### 捕获组

​	捕获组把多个字符当一个单独单元进行处理的方法，它通过对括号内的字符分组来创建。

​	捕获组是通过从左至右计算其开括号来编号。例如在表达式（（A）（B（C））），有四个这样的组：

​	（(A)(B(C)))	(A)	(B(C))	(C)

​	可以通过调用matcher对象的groupCount方法来查看表达式有多少个分组。groupCount方法返回一个int值，表示matcher对象当前有多个捕获组。

​	还有一个特殊的组（group(0)），它总是代表整个表达式。该组不包括在groupCount的返回值中。

### 正则表达式语法

​	在Java中，**\\**表示：我要插入一个正则表达式的反斜线，所以其后的字符具有特殊的意义。

​	所以，在其他的语言中，一个反斜杠\就足以具有转义的作用，而在Java中正则表达式中则需要有两个反斜杠才能被解析为其他语言中的转义作用。也可以简单的理解在Java的正则表达式中，两个\\\代表其他语言中的一个\，这就是为什么表示一位数字的正则表达式是\\\d，而表示一个普通的反斜杠是\\\\\\\。

\	：将下一字符标记为特殊字符，如"n"匹配字符"n"。"\n"匹配换行符。

^	：匹配输入字符串开始的位置

$	：匹配输入字符串结尾的位置

\* 	：零次或多次匹配前面的字符或子表达式。zo*匹配"z"和"zoo"。以z开头，跟了不限个数o。

\+	：一次或多次匹配前面的字符或子表达式。"zo+"与"zo"和"zoo"匹配，但与"z"不匹配。以z开头，跟了1个以上o

?	：零次或一次匹配前面的字符或子表达式。"do(es)?"匹配"do"或"does"

{n}      ：正好匹配n次。"o{2}"与"Bob"中的"o"不匹配，但与"food"中的两个"o"匹配。

{n,}     ：至少匹配n次。

{n,m}  ：n<=m，匹配至少n次，至多m次。如果字符串中的o连续多余m个，优先匹配o{m}，是贪心的。

?	：当次字符紧随任何其他限定符（*、+、?、{n}、{n,}、{n,m}之后时，匹配模式是”非贪心的“。”非贪心的“模式匹配搜索到的、尽可能短的字符串，而默认的"贪心的"模式匹配搜索到的、尽可能长的字符串。例如，在字符串"oooo"中 ，"o+?"只匹配单个"o"，而"o+"匹配"oooo"。

.	：匹配出"\r\n"之外的任何单个字符。若要匹配包括"\r\n"在内的任意字符，请使用诸如"[\s\S]"之类的模式。

x丨y     ：匹配x或y。"z丨food"匹配"z"或"food"，"(z丨f)ood"匹配"zood"或"food"。

[xyz]  ：字符集。匹配包含的任一字符。"[abc]"匹配"plain"中的"a"。

[^xyz]：反向字符集。匹配未包含的任何字符。"[ ^abc]"匹配"plan"中"p","l","i","n"。

[a-z]  ：字符范围。匹配指定范围内的任何字符。

[^a-z] ：反向范围字符。匹配不在指定的范围内的任何字符。

\b       ：匹配一个字边界，即字符与空格间的位置。"er\b"匹配"never"中的"er"，但不匹配"verb"中的"er"。

\B       ：非字边界匹配。"er\b"匹配"verb"中的"er"，但不匹配"never"中的"er"。

\d       ：数字字符匹配。等效于[0-9]。

\D       ：非数字字符匹配。等效于[ ^0-9]。

\f	：换页符匹配

\n       ：换行符匹配

\r        ：匹配一个回车符

\s       ：匹配任何空白符，包括空格、制表符、换页符等。与[\f\n\r\t\v]等效

\S       ：匹配任何非空白字符，与[ ^\f\n\r\t\v]等效

\w      ：匹配任何字类字符，包括下户划线。与"[A-Za-z0-9_]"等效。

\W     ：与任何非单词字符匹配。与"[ ^A-Za-z0-9_]"等效。

(pattern)	：匹配pattern并捕获该匹配的子表达式